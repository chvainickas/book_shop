<h1>My Orders</h1>

<% if @orders.empty? %>
  <div class="alert alert-info">
    You haven't placed any orders yet. <%= link_to 'Start shopping', root_path, class: 'alert-link' %>
  </div>
<% else %>
  <div class="row">
    <% @orders.each do |order| %>
      <div class="col-md-12 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-2">
                <p class="mb-1"><strong>Order #<%= order.id %></strong></p>
                <p class="text-muted small mb-0"><%= order.created_at.strftime('%B %d, %Y') %></p>
              </div>
              <div class="col-md-3">
                <p class="mb-0"><%= pluralize(order.order_items.count, 'item') %></p>
              </div>
              <div class="col-md-2">
                <span class="badge bg-<%= order.status == 'completed' ? 'success' : order.status == 'pending' ? 'warning' : 'secondary' %>">
                  <%= order.status.capitalize %>
                </span>
              </div>
              <div class="col-md-3 text-end">
                <p class="mb-0 fw-bold text-success">$<%= '%.2f' % order.total %></p>
              </div>
              <div class="col-md-2 text-end">
                <%= link_to 'View Details', order_path(order), class: 'btn btn-sm btn-primary' %>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>

<div class="mt-3">
  <%= link_to 'Continue Shopping', root_path, class: 'btn btn-outline-secondary' %>
</div>
